(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[51],{58294:function(a,b,c){(window.__NEXT_P=window.__NEXT_P||[]).push(["/[address]/overview",function(){return c(47577)}])},47577:function(a,b,c){"use strict";c.r(b),c.d(b,{default:function(){return aA}});var d,e,f,g,h,i=c(47568),j=c(34051),k=c.n(j),l=c(85893),m=c(19485),n=c(67294),o=c(11163),p=c(51897),q=function(a){var b=a.message;return(0,l.jsx)("div",{className:"text-5xl flex mt-20 justify-center",children:b})},r=q,s=c(316),t=(f=(0,i.Z)(k().mark(function a(b,c){var d,e,f;return k().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return d=new s.pY(p,b,c),a.next=3,d.fetchData("LSP5ReceivedAssets[]");case 3:return f=(e=a.sent).value,a.abrupt("return",f);case 6:case"end":return a.stop()}},a)})),function(a,b){return f.apply(this,arguments)}),u=t,v=c(10220),w=c(1438),x=function(){var a=(0,n.useState)(),b=a[0],c=a[1];return(0,n.useEffect)(function(){c(new v.r(w.YN))},[]),b},y=x,z=c(68209);(g=d||(d={})).LSP7="LSP7",g.LSP8="LSP8",g.Unknown="Unknown";var A,B,C,D,E,F,G=(h=(0,i.Z)(k().mark(function a(b,c,e){var f,g;return k().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return f=w.MK.supportsInterface,g=new z.CH(b,f,e),a.prev=2,a.next=5,g.supportsInterface(w.Bj.LSP7DigitalAsset);case 5:if(!a.sent){a.next=7;break}return a.abrupt("return",d.LSP7);case 7:return a.next=9,g.supportsInterface(w.Bj.LSP8IdentifiableDigitalAsset);case 9:if(!a.sent){a.next=11;break}return a.abrupt("return",d.LSP8);case 11:a.next=17;break;case 13:return a.prev=13,a.t0=a.catch(2),console.error("Error checking supportInterface for contract: ".concat(b," and interfaceId: ").concat(c),a.t0),a.abrupt("return",!1);case 17:case"end":return a.stop()}},a,null,[[2,13]])})),function(a,b,c){return h.apply(this,arguments)}),H=(A=(0,i.Z)(k().mark(function a(b,c){var e;return k().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,G(b,w.Bj.LSP7DigitalAsset,c);case 2:if((e=a.sent)!==d.LSP7){a.next=5;break}return a.abrupt("return",d.LSP7);case 5:if(e!==d.LSP8){a.next=7;break}return a.abrupt("return",d.LSP8);case 7:return a.abrupt("return",d.Unknown);case 8:case"end":return a.stop()}},a)})),function(a,b){return A.apply(this,arguments)}),I=H,J=c(3283),K=c.n(J),L=function(){var a=(0,n.useState)(),b=a[0],c=a[1];return(0,n.useEffect)(function(){var a=new(K()).providers.HttpProvider(w.YN);c(a)},[]),b},M=L,N=c(82670),O=c(29815),P=c(96562),Q=c(828),R=c(56517),S=function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q=[[]],r=[],s=[],t=[];return(null==a?void 0:null===(b=a.LSP4Metadata)|| void 0===b?void 0:null===(c=b.images)|| void 0===c?void 0:c.length)&&(q=null==a?void 0:null===(k=a.LSP4Metadata)|| void 0===k?void 0:null===(l=k.images)|| void 0===l?void 0:l.filter(function(a){return null!=a&&!!a.length&&U(a)})),(null==a?void 0:null===(d=a.LSP4Metadata)|| void 0===d?void 0:null===(e=d.links)|| void 0===e?void 0:e.length)&&(r=null==a?void 0:null===(m=a.LSP4Metadata)|| void 0===m?void 0:m.links.filter(function(a){return(null==a?void 0:a.title)&&(null==a?void 0:a.url)})),(null==a?void 0:null===(f=a.LSP4Metadata)|| void 0===f?void 0:null===(g=f.assets)|| void 0===g?void 0:g.length)&&(s=null==a?void 0:null===(n=a.LSP4Metadata)|| void 0===n?void 0:n.assets.filter(function(a){return(null==a?void 0:a.hash)&&(null==a?void 0:a.url)&&(null==a?void 0:a.hashFunction)&&a.fileType})),(null==a?void 0:null===(h=a.LSP4Metadata)|| void 0===h?void 0:null===(i=h.icons)|| void 0===i?void 0:i.length)&&(t=null==a?void 0:null===(o=a.LSP4Metadata)|| void 0===o?void 0:null===(p=o.icons)|| void 0===p?void 0:p.filter(function(a){return T(a)})),{LSP4Metadata:{description:(null==a?void 0:null===(j=a.LSP4Metadata)|| void 0===j?void 0:j.description)||"",links:r,images:q,assets:s,icons:t}}},T=function(a){return a.width&&a.url&&a.hash&&a.hashFunction&&a.height},U=function(a){return a.every(function(a){return a.url&&a.hash&&a.width&&a.height&&a.hashFunction})},V=(B=(0,i.Z)(k().mark(function a(b,c){var d,e,f,g,h,i,j,l,m,n;return k().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return d={ipfsGateway:w.c2},e=new s.ZP(R,b,c,d),a.prev=2,a.next=6,e.fetchData(["LSP4TokenName","LSP4TokenSymbol","LSP4Metadata",]);case 6:return l="string"==typeof(null===(f=(j=a.sent)[0])|| void 0===f?void 0:f.value)?null===(g=j[0])|| void 0===g?void 0:g.value:"",m="string"==typeof(null===(h=j[1])|| void 0===h?void 0:h.value)?null===(i=j[1])|| void 0===i?void 0:i.value:"",n=S(j[2].value),a.abrupt("return",[l,m,n]);case 13:return a.prev=13,a.t0=a.catch(2),console.log(a.t0),a.abrupt("return",["","",{LSP4Metadata:{description:"",links:[],images:[[]],icons:[],assets:[]}},]);case 17:case"end":return a.stop()}},a,null,[[2,13]])})),function(a,b){return B.apply(this,arguments)}),W=V,X=c(14242),Y=(C=(0,i.Z)(k().mark(function a(b,c,d){var e,f,g;return k().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,W(b,d);case 2:return e=a.sent,a.next=5,Z(b,c);case 5:if(0!=(f=a.sent)){a.next=8;break}return a.abrupt("return");case 8:return g=$(e,f,b),a.abrupt("return",g);case 10:case"end":return a.stop()}},a)})),function(a,b,c){return C.apply(this,arguments)}),Z=(D=(0,i.Z)(k().mark(function a(b,c){var d,e,f;return k().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return e=new(d=new(K())(w.YN)).eth.Contract(X.Mt,b),a.next=4,e.methods.balanceOf(c).call();case 4:return f=a.sent,a.abrupt("return",f);case 6:case"end":return a.stop()}},a)})),function(a,b){return D.apply(this,arguments)}),$=function(a,b,c){var d,e,f=(0,Q.Z)(a,3),g=f[0],h=f[1],i=f[2],j={name:g,symbol:h,amount:b,icon:(null===(d=i.LSP4Metadata.icons[0])|| void 0===d?void 0:d.url)?null===(e=i.LSP4Metadata.icons[0])|| void 0===e?void 0:e.url:w.s8,address:c};return j},_=Y,aa=function(a){var b=a.icon,c=a.amount,d=a.name,e=a.symbol;return(0,l.jsxs)("div",{className:"border border-darkGray p-3 rounded-lg h-[280px] mt-8",children:[(0,l.jsx)("div",{className:"rounded h-[180px] overflow-hidden mb-2",children:(0,l.jsx)("img",{src:b,alt:"nft-image",className:"object-none rounded w-full h-full bg-cover bg-repeat bg-center"})}),(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"text-sm font-bold text-gray-600 leading-6",children:d}),(0,l.jsx)("div",{className:"leading-6",children:e}),(0,l.jsxs)("div",{className:"text-xs leading-6",children:[c," tokens"]})]})]})},ab=aa,ac=function(a){var b=a.addresses,c=a.ownerAddress,d=M(),e=(0,n.useState)(!0),f=e[0],g=e[1],h=(0,n.useContext)(P.G),j=h.lsp7Assets,m=h.setLsp7Assets;return((0,n.useEffect)(function(){var a;d&&b.length&&(a=(0,i.Z)(k().mark(function a(){return k().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return console.log("fetching lsp7 assets"),m([]),g(!0),a.next=5,Promise.all(b.map(function(){var a=(0,i.Z)(k().mark(function a(b){var e;return k().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,_(b,c,d);case 2:e=a.sent,(0,N.Z)(e,Object)&&m(function(a){return(0,O.Z)(a).concat([e])});case 4:case"end":return a.stop()}},a)}));return function(b){return a.apply(this,arguments)}}()));case 5:g(!1);case 6:case"end":return a.stop()}},a)})),function(){return a.apply(this,arguments)})()},[d,b]),j.length||f)?(0,l.jsxs)("div",{className:"grid lg:grid-cols-4 lg:gap-4 md:grid-cols-2 md:gap-3",children:[f?"Loading tokens metadata...":j.map(function(a,b){return(0,l.jsx)(ab,{icon:a.icon,amount:a.amount,name:a.name,symbol:a.symbol},"lsp7-".concat(b))}),!f&&0===j.length&&(0,l.jsx)("div",{children:"No token yet"})]}):(0,l.jsx)("div",{children:"No token yet"})},ad=ac,ae=function(a){var b=a.assetJSON;return(0,l.jsxs)("div",{className:"border border-darkGray p-3 rounded-lg h-[280px] mt-8",children:[(0,l.jsx)("div",{className:"rounded h-[180px] overflow-hidden mb-2",children:(0,l.jsx)("img",{src:b.image,alt:"nft-image",className:"object-none rounded w-full h-full bg-cover bg-repeat bg-center"})}),(0,l.jsx)("div",{className:"text-xs font-bold text-gray-600 leading-6",children:b.collectionName}),(0,l.jsxs)("div",{className:"text-sm leading-6",children:["#",parseInt(b.tokenId)]})]})},af=ae,ag=c(733),ah=c(16441),ai={name:"LSP8TokenIdType",key:"0x715f248956de7ce65e94d9d836bfead479f7e70d69b718d47bfe7b00e05b4fe4",keyType:"Singleton",valueType:"uint256",valueContent:"Number"},aj={name:"LSP8MetadataJSON:<uint256>",key:"0x9a26b4060ae7f7d5e3cd0000<uint256>",keyType:"Mapping",valueType:"bytes",valueContent:"JSONURL"};(E=e||(e={})).address="1",E.number="2",E.bytes32="3";var ak,al,am=(F=(0,i.Z)(k().mark(function a(b,c,d){var e,f,g,h,j,l;return k().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,an(b,c,d);case 2:if((e=a.sent).length){a.next=5;break}return a.abrupt("return");case 5:return a.t0=Q.Z,a.next=8,W(b,d);case 8:return a.t1=a.sent,g=(f=(0,a.t0)(a.t1,3))[0],h=f[1],j=f[2],l=[],a.next=16,Promise.all(e.map(function(){var a=(0,i.Z)(k().mark(function a(c){var e,f;return k().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,ap(c,b,d);case 2:f=ao(e=a.sent,c,g,h,b,j),l.push(f);case 5:case"end":return a.stop()}},a)}));return function(b){return a.apply(this,arguments)}}()));case 16:return a.abrupt("return",l);case 17:case"end":return a.stop()}},a)})),function(a,b,c){return F.apply(this,arguments)}),an=(ak=(0,i.Z)(k().mark(function a(b,c,d){var e,f,g;return k().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return f=new(e=new(K())(w.YN)).eth.Contract(ag.Mt,b),a.next=4,f.methods.tokenIdsOf(c).call();case 4:return g=a.sent,a.abrupt("return",g);case 6:case"end":return a.stop()}},a)})),function(a,b,c){return ak.apply(this,arguments)}),ao=function(a,b,c,d,e,f){var g,h,i,j,k,l,m=a.LSP4Metadata,n=m.description,o=(m.links,m.images),p=(m.assets,m.icons),q={tokenId:b,description:n,image:(null===(g=o[0][0])|| void 0===g?void 0:g.url)?o[0][0].url:w.s8,icon:(null===(h=p[0])|| void 0===h?void 0:h.url)?p[0].url:w.s8,collectionName:c,collectionSymbol:d,collectionAddress:e,collectionDescription:f.LSP4Metadata.description,collectionImage:(null===(i=f.LSP4Metadata.images[0][0])|| void 0===i?void 0:i.url)?null===(j=f.LSP4Metadata.images[0][0])|| void 0===j?void 0:j.url:w.s8,collectionIcon:(null===(k=f.LSP4Metadata.icons[0])|| void 0===k?void 0:k.url)?null===(l=f.LSP4Metadata.icons[0])|| void 0===l?void 0:l.url:w.s8};return q},ap=(al=(0,i.Z)(k().mark(function a(b,c,d){var f,g,h,j,l;return k().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return f=function(){var a=(0,i.Z)(k().mark(function a(b,c){var d;return k().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,h.fetchData([{keyName:"LSP8MetadataJSON:<".concat(b,">"),dynamicKeyParts:c},]);case 2:return d=a.sent,a.abrupt("return",S(d[0].value));case 4:case"end":return a.stop()}},a)}));return function(b,c){return a.apply(this,arguments)}}(),g={ipfsGateway:w.c2},h=new s.ZP([ai,aj],c,d,g),a.prev=3,a.next=6,h.fetchData(["LSP8TokenIdType"]);case 6:if((l=(j=a.sent)[0].value.toString())!==e.address){a.next=12;break}return a.abrupt("return",f("address",ah.p3(b.toString(),12)));case 12:if(l!==e.number){a.next=16;break}return a.abrupt("return",f("uint256",parseInt(b).toString()));case 16:if(l!==e.bytes32){a.next=20;break}return a.abrupt("return",f("bytes32",b.toString()));case 20:return a.abrupt("return",{LSP4Metadata:{description:"",links:[],images:[[]],icons:[],assets:[]}});case 21:a.next=27;break;case 23:return a.prev=23,a.t0=a.catch(3),console.log(a.t0),a.abrupt("return",{LSP4Metadata:{description:"",links:[],images:[[]],icons:[],assets:[]}});case 27:case"end":return a.stop()}},a,null,[[3,23]])})),function(a,b,c){return al.apply(this,arguments)}),aq=am,ar=function(a){var b=a.addresses,c=a.ownerAddress,d=M(),e=(0,n.useState)(!0),f=e[0],g=e[1],h=(0,n.useContext)(P.G),j=h.lsp8Assets,m=h.setLsp8Assets;return((0,n.useEffect)(function(){var a;d&&b.length&&(a=(0,i.Z)(k().mark(function a(){return k().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return m([]),g(!0),a.next=4,Promise.all(b.map(function(){var a=(0,i.Z)(k().mark(function a(b){var e;return k().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,aq(b,c,d);case 2:e=a.sent,(0,N.Z)(e,Object)&&m(function(a){return(0,O.Z)(a).concat((0,O.Z)(e))});case 4:case"end":return a.stop()}},a)}));return function(b){return a.apply(this,arguments)}}()));case 4:g(!1);case 5:case"end":return a.stop()}},a)})),function(){return a.apply(this,arguments)})()},[d,b]),j.length||f)?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{className:"grid lg:grid-cols-4 lg:gap-4 md:grid-cols-2 md:gap-3",children:f?"Loading NFTs metadata...":j.map(function(a,b){return(0,l.jsx)(af,{assetJSON:a},"lsp8-".concat(b))})}),!f&&0===j.length&&(0,l.jsx)("div",{children:"No NFTs yet"})]}):(0,l.jsx)("div",{children:"No NFTs yet"})},as=ar,at=c(11288),au=c.n(at),av=function(a){var b,c=a.lsp3JSON,d=(0,n.useState)(),e=d[0],f=d[1],g=(0,n.useState)(""),h=g[0],j=g[1],m=(0,o.useRouter)(),p=(0,n.useState)(),q=p[0],r=p[1],s=(0,n.useState)(),t=s[0],u=s[1],v=function(a){var b,c;if(null===(c=null===(b=a.LSP3Profile)|| void 0===b?void 0:b.profileImage[0])|| void 0===c?void 0:c.url){var d,e=a.LSP3Profile.profileImage[0].url;return e.includes("ipfs://")?"".concat(w.c2).concat(e.split("ipfs://")[1]):null==a?void 0:null===(d=a.LSP3Profile)|| void 0===d?void 0:d.profileImage[0].url}return au()(h)},x=(b=(0,i.Z)(k().mark(function a(){return k().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:c&&(r(v(c)),f(c),z());case 1:case"end":return a.stop()}},a)})),function(){return b.apply(this,arguments)}),y=function(a){return"".concat(a.slice(0,6),"...").concat(a.slice(-4))},z=function(){var a;(null===(a=null==c?void 0:c.LSP3Profile.links[0])|| void 0===a?void 0:a.url)&&u(c.LSP3Profile.links[0])};return(0,n.useEffect)(function(){if(c){x();return}h?r(au()(h)):r(au()("lukso")),f(void 0),u(void 0)},[c,h]),(0,n.useEffect)(function(){m.query.id&&j(y(m.query.id))},[m]),(0,l.jsx)("div",{children:(0,l.jsxs)("div",{className:"flex mt-8",children:[(0,l.jsx)("img",{src:q,className:"rounded-lg w-[150px] h-[150px] object-cover",alt:"profileImage"}),(0,l.jsxs)("div",{className:"ml-4",children:[(0,l.jsx)("div",{className:"text-xs",children:y(h)}),(0,l.jsx)("div",{className:"text-2xl font-bold my-2",children:null==e?void 0:e.LSP3Profile.name}),(0,l.jsx)("div",{className:"h-[120px]",children:t&&(0,l.jsx)("a",{href:t.url,target:"_blank",rel:"noreferrer",className:"text-xs text-blue-500",children:t.title})})]})]})})},aw=av,ax=function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p=[],q=[],r=[],s=[];return(null==a?void 0:null===(b=a.LSP3Profile)|| void 0===b?void 0:null===(c=b.profileImage)|| void 0===c?void 0:c.length)&&(r=U(null==a?void 0:null===(j=a.LSP3Profile)|| void 0===j?void 0:j.profileImage)?null==a?void 0:null===(k=a.LSP3Profile)|| void 0===k?void 0:k.profileImage:[]),(null==a?void 0:null===(d=a.LSP3Profile)|| void 0===d?void 0:null===(e=d.backgroundImage)|| void 0===e?void 0:e.length)&&(s=U(null==a?void 0:null===(l=a.LSP3Profile)|| void 0===l?void 0:l.backgroundImage)?null==a?void 0:null===(m=a.LSP3Profile)|| void 0===m?void 0:m.backgroundImage:[]),(null==a?void 0:null===(f=a.LSP3Profile)|| void 0===f?void 0:null===(g=f.links)|| void 0===g?void 0:g.length)&&(q=null==a?void 0:null===(n=a.LSP3Profile)|| void 0===n?void 0:n.links.filter(function(a){return(null==a?void 0:a.title)&&(null==a?void 0:a.url)})),(null==a?void 0:null===(h=a.LSP3Profile)|| void 0===h?void 0:null===(i=h.tags)|| void 0===i?void 0:i.length)&&(p=null==a?void 0:null===(o=a.LSP3Profile)|| void 0===o?void 0:o.tags.filter(function(a){return(null==a?void 0:a.title)&&(null==a?void 0:a.url)})),{LSP3Profile:{name:(null==a?void 0:a.LSP3Profile.name)||"",description:(null==a?void 0:a.LSP3Profile.description)||"",links:q,tags:p,profileImage:r,backgroundImage:s}}},ay={ipfsGateway:w.c2},az=function(){var a,b,c=(0,o.useRouter)(),e=(0,n.useState)(""),f=e[0],g=e[1],h=(0,n.useState)(""),j=h[0],q=h[1],t=(0,n.useState)(!1)[1],v=(0,n.useState)(!1),w=v[0],x=v[1],z=(0,n.useState)(),A=z[0],B=z[1],C=(0,n.useState)([]),D=C[0],E=C[1],F=(0,n.useState)([]),G=F[0],H=F[1],J=y(),K=M(),L=(a=(0,i.Z)(k().mark(function a(b){var c,e,f;return k().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,u(b,K);case 2:return c=a.sent,e=[],f=[],a.next=7,Promise.all(c.map(function(){var a=(0,i.Z)(k().mark(function a(b){var c;return k().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,I(b,J);case 2:c=a.sent,a.t0=c,a.next=a.t0===d.LSP7?6:a.t0===d.LSP8?8:10;break;case 6:return e.push(b),a.abrupt("break",11);case 8:return f.push(b),a.abrupt("break",11);case 10:return a.abrupt("break",11);case 11:case"end":return a.stop()}},a)}));return function(b){return a.apply(this,arguments)}}()));case 7:console.log(e,f),E(e),H(f);case 10:case"end":return a.stop()}},a)})),function(b){return a.apply(this,arguments)}),N=(b=(0,i.Z)(k().mark(function a(b){var c,d,e;return k().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return c=new s.pY(p,b,K,ay),a.prev=1,x(!0),a.next=5,c.fetchData(["LSP3Profile"]);case 5:return d=a.sent,t(!0),e=ax(d[0].value),B(e),x(!1),a.next=12,L(b);case 12:a.next=21;break;case 14:a.prev=14,a.t0=a.catch(1),console.log(a.t0),q("Address is not a Universal Profile"),t(!1),x(!1),B(void 0);case 21:case"end":return a.stop()}},a,null,[[1,14]])})),function(a){return b.apply(this,arguments)});return(0,n.useEffect)(function(){c.query.address&&g(c.query.address)},[c.query.address]),(0,n.useEffect)(function(){f&&K&&(q(""),m.UJ(f)?N(f):q("Invalid Address"))},[f,K]),(0,l.jsxs)("div",{className:"mx-8",children:[f&&(0,l.jsx)(aw,{lsp3JSON:A}),w&&(0,l.jsx)("div",{className:"text-5xl flex justify-center mt-20",children:"Loading Universal Profile..."}),!w&&j?(0,l.jsx)(r,{message:j}):(0,l.jsx)("div",{}),(0,l.jsxs)("div",{className:"mt-8",children:[(0,l.jsxs)("div",{className:"pb-2",children:[(0,l.jsx)("h2",{className:"px-2 border-b border-darkGray",children:"Tokens"}),(0,l.jsx)(ad,{addresses:D,ownerAddress:f})]}),(0,l.jsxs)("div",{className:"pb-2",children:[(0,l.jsx)("h2",{className:"px-2 border-b border-darkGray",children:"NFTs"}),(0,l.jsx)(as,{addresses:G,ownerAddress:f})]})]})]})},aA=az},80950:function(){},89214:function(){},8623:function(){},7748:function(){},85568:function(){},56619:function(){},77108:function(){},52361:function(){},94616:function(){},43503:function(){}},function(a){a.O(0,[482,714,113,774,888,179],function(){var b;return a(a.s=58294)}),_N_E=a.O()}])